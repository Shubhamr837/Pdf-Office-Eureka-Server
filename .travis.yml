language: java
cache:
  directories:
  - "$HOME/.m2"
sudo: required
services:
- docker
notifications:
  email:
  - shubhamr837@gmail.com
  on_success: always
  on_failure: always
branches:
  only:
  - master
env:
  global:
    - secure: t1V2KVb2eFH5KiL5jmQ0ZYK4k5UGqB3yttLKOemA8425AxAs/btUekI+pVBwdYfY8b/xWgJT0OVhqrrUTbGafPcBrIh7b3SlIX4h+Hf9mJbIdlwalzJhx8xnGq/mQCEV4gLOPMmKrk1RHKAYD/8CS6AQ5t+1/EFBqCV0dVm0LY/ey3BTFy+6q2eJYrmjIveYv8UYNH2CtzwQJbdMyWJ4o0M68nl5FGVgmDvW5isWttVelrmCtst8uvjzaA/6+5a2QwUmBYXXQV3R/0uWH5GrxFfAzw6YXz1vVGyUjWAgEUOxrY+JfQmUTGUztTTfjZNsySmHosr0yFEfI0qOEzFxAMH4gLYMwtPC+GwAV944pzcALcPWC6HD3tm1NhrxrafVftCtFRI5W78o6alx1KPT3/c3SqRtDbGx5edVwGygJ2YqOH3Wljov64Ryukup0ed687ClYsQtk4g2CaXmIy5igh4w3bEvYfMGPLJFSq6167DHTa148V3JkD5zOP/sfYPfOqy41KdE4bYITDBnoDF+zxGq16fnH/JdkMTm8M1+p+5iVrYfhOBt4hQnnXS3ED/DuaryqyiVH5+Sf6dSShjBuzLfd7LhNBkVgZlFPkqjEjBphqUUoNxX3IW3Xue0nnUWzLAMXhJ3vWe9MslKU1EebKngks1VPdyGFAjR15477UU=
    - secure: NCNEM57aNEiO9nv+ECIRnIK8k+jt+/fx5UQIibHKnVkeKke2wiYsfer6vCrxAh1y1xsBYCLEU0Qt8vqBbhzclm9h0HtZQNdvOToHMRHmRS0EFHneM1G8AuLnsf7QzJg28RxQPFdzdBz9LKG3cUCHUsev3AX9ImPjZi56VelOWPskQZvg6E86NO8imQsWypgpO2AlM3NtMvDVRcPKQH78rnY1FK6+DmF/Hef6XqubwTGjh8r1tyb1gjD6A6DRtByFNlAUPeP3/+LWCBy5iyB8pK6Cus/prZyRUGMAl2caXrdJ+e9z+FMezJSpY3Ma9msMljzfLnbjarpv/PS9D3gQ77QxQOwIGJBfzFs5f9vQtu8x1TuVOoco62WCJCnD1/JxGolUDD7O2KsimuZrmSRfd4PfVBuR9uhm+DC8Qx0u1aURN/6YnH83x0pZW5dN5s+JAutF6XDvk7NeC4vr/2Xr93vUBzBU0EbnGNUPtJIS7kHztR/DWm6bHix6POYpnfpxX82kldgbfhfE1Q3sLQjQ6XYQyJV0heq7DjSRd1r+W0Ojze4c3ogr1dQtBfG9y/BH4RCa5cj6ovrZJRjwasAaiyFFHY2WPCemD36COqGk9suYcGTvV4mwB+mGJRRLvzMfz2namAH1QCXRZvP8JTTYakHZgEmgTul8VMqZAITFd0U=

before_install:
- echo $DOCKERHUB_PASSWORD| docker login --username $DOCKERHUB_USERNAME --password $DOCKERHUB_PASSWORD
script:
- "./mvnw package"
- docker build -t shubhamr837 .
- docker tag shubhamr837:latest shubhamr837/pdf:eureka-server
- docker push shubhamr837/pdf:eureka-server
